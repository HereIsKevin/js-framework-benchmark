window.requestIdleCallback=window.requestIdleCallback||((e,t,s=performance.now())=>setTimeout(e,0,{didTimeout:!1,timeRemaining:()=>Math.max(0,5-(performance.now()-s))}));var Ve=((e=document.createRange())=>(e.selectNodeContents(e.createContextualFragment("<template>").lastChild),e.createContextualFragment.bind(e)))(),j=new WeakMap,_=new WeakMap,h=new WeakMap,m=new WeakMap,k=new WeakMap,E=new WeakMap,p=new WeakMap,J=new WeakMap,re=Symbol("boundFunctions"),Z=!0,x=!0,V=!1;var P=!1,Ce=/\{\{([^]*?)\}\}/;var Ie=/\n/g,Pe=/[\.\[\]]/,w=/^on/,we=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"],fe=null,K=!1;function b(e){return e!=null&&typeof e=="object"}function R(e){return typeof e=="function"}function y(e){return e.splitText!==void 0}function W(e){return e instanceof Node}function M(e){return e.nodeName!=="svg"&&"getElementById"in e}function F(e){return b(e)&&"event"in e&&"options"in e}function O(e){return Reflect.get(e,"isProxy")}function ue(e){return b(e)&&typeof e.then=="function"}function ae(e){x=e}function We(){return Math.random().toString(32).slice(2)}function T(e,t,s){return we.includes(t)&&!s?(e.removeAttribute(t),!1):(e.setAttribute(t,s),!0)}function z(e,t,s){e.addEventListener(t,R(s)?s:s.event,R(s)?{}:s.options)}function A(e,t,...s){if(R(e))return e(t);let o=s.map(n=>b(n)&&!W(n)?Object.values(n):n).flat(),c=document.createElement(e);for(let n in t)n in c?c[n]=t[n]:T(c,n,t[n]);return c.append(...o),qe(v,c,c),c}function v(e,t){if(y(e)){B(e);return}let s=[...e.querySelectorAll("*")].reverse();M(e)||s.push(e),s.forEach(o=>{let c=o.firstChild;for(;c;)y(c)&&B(c),c=c.nextSibling;o.getAttributeNames().forEach(n=>{if(t&&n.startsWith("on")){let l=n.replace(w,""),i=t[o.getAttribute(n)];if(!i){B(o,n);return}o.removeAttribute(n),F(i)?(o.addEventListener(l,i.event,i.options),_.has(o)?_.get(o).push(i.event):_.set(o,[i.event])):(o.addEventListener(l,i),_.has(o)?_.get(o).push(i):_.set(o,[i]))}else B(o,n)})})}function B(e,t){let s,o;for(y(e)?s=e.nodeValue:(s=e.getAttribute(t),s===""&&(s=t,s.startsWith("{{")&&e.removeAttribute(s)));o=s.match(Ce);){let[c,n]=o,l=n.trim().replace(Ie,"").split(Pe).filter(Boolean),[i,a]=$(l),r=l[l.length-1],u=o.index,d=u+String(i).length;if(W(i)){e.nodeValue=s.replace(c,""),e.after(i),D(u,d,i,r,a,t);return}if(y(e)){let f=b(i)?JSON.stringify(i):i??"";s=s.replace(c,f),s!=null&&(e.nodeValue=s)}else if(t==="bind"){s=s.replace(c,""),e.removeAttribute(t);let f=b(i)&&O(i)?i:a;m.has(f)?m.get(f).push(e):m.set(f,[e]);continue}else if(t==="two-way"){let f=g=>{e.addEventListener(g,({target:Y})=>{Reflect.set(a,r,Y.value)})};e instanceof HTMLTextAreaElement||e instanceof HTMLInputElement&&e.type==="text"?(e.value=i,f("input")):e instanceof HTMLSelectElement?(e.value=i,f("change")):e instanceof HTMLInputElement&&e.type==="radio"?(e.checked=e.value===i,f("change")):e instanceof HTMLInputElement&&e.type==="checkbox"&&(e.checked=i.includes(e.name),e.addEventListener("change",({target:g})=>{g.checked?i.includes(e.name)||i.push(e.name):i.splice(i.indexOf(e.name),1)})),s=s.replace(c,""),e.setAttribute("two-way","")}else if(R(i)||F(i))s=s.replace(c,""),e.removeAttribute(t),z(e,t.replace(w,""),i);else if(b(i)){Object.entries(i).forEach(([f,g])=>{s=s.replace(c,""),R(g)||F(g)?z(e,f.replace(w,""),g):(r=f,T(e,f,g)?d=u+String(g).length:d=u),D(u,d,e,r,i,f)});continue}else s=s.replace(c,i),T(e,t,s===String(i)?i:s)||(s=s.replace(i,""));D(u,d,e,r,a,t)}}function D(e,t,s,o,c,n){let l=[e,t,n],i=[l];if(j.has(s)?j.get(s).push(l):j.set(s,i),h.has(c)){let a=h.get(c),r=a.get(o);r?r.has(s)?r.get(s).push(l):(r.set(i,s),r.set(s,i)):a.set(o,new Map([[i,s],[s,i]]))}else h.set(c,new Map([[o,new Map([[i,s],[s,i]])]]))}function $(e){let t,s;return t=s=I,e.forEach(o=>{s=t,t=Reflect.get(s,o)}),[t,s]}function ee(e,t,s){let o=[],c=[];if(y(e))return E.has(e)&&o.push(E.get(e)),p.has(e)&&o.push(p.get(e)),E.has(t)&&c.push(E.get(t)),p.has(t)&&c.push(p.get(t)),!(o.length!==c.length||String(o)!==String(c));if(_.has(e)&&o.push(..._.get(e)),_.has(t)&&c.push(..._.get(t)),E.has(e)&&o.push(E.get(e)),p.has(e)&&o.push(p.get(e)),E.has(t)&&c.push(E.get(t)),p.has(t)&&c.push(p.get(t)),o.length!==c.length||String(o)!==String(c))return!1;for(let n=0;n<e.childNodes.length;n++)if(s){if(y(e.childNodes[n])&&!ee(e.childNodes[n],t.childNodes[n],s))return!1}else if(!ee(e.childNodes[n],t.childNodes[n]))return!1;return!0}function de(e,t,s){return e.isEqualNode(t)&&ee(e,t,s)}function te(e,t="",s=Z){if(s)return H(te,e,t,!1),pe(e);Reflect.get(e,"reactive")&&(e=C(e));let o;if(M(e)&&(o=Array.from(e.childNodes),J.set(e,o)),!t)document.body.append(e);else{if(typeof t=="string"){let c=document.querySelector(t);if(c)t=c;else return()=>{}}x?y(e)?(G(e,t),S(t,p)):de(e,t)||$e(e,t):(G(e,t),S(t,p))}return S(e,E),o?.forEach(c=>{S(c,E)}),pe(M(e)?o:e)}function ne(e,t){if(t.has(e)){let s=t.get(e);P?H(s):Z?window.requestIdleCallback(s):s(),t.delete(e)}}function S(e,t){if(t===E&&!Ne||t===p&&!Se)return;ne(e,t);let s=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT),o;for(;o=s.nextNode();){ne(o,t);let c=o.firstChild;for(;c;)y(c)&&ne(c,t),c=c.nextSibling}}function Fe(e,t){for(let[s,o]of e.entries())for(let c=0;c<o.length;c++){let n=o[c];(t.contains(n)||t.isSameNode(n))&&(o.splice(c,1),c--),o.length===0&&e.delete(s)}}function $e(e,t){let s=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT),o=document.createNodeIterator(t,NodeFilter.SHOW_ELEMENT),c;V&&(c=document.createElement("template"),t===document.documentElement?t.append(c):M(t)?J.get(t)[0].before(c):t.before(c),c.append(e));let n,l=new Map;for(;n=o.nextNode();)V&&n===c||(l.has(n.localName)?l.get(n.localName).push(n):l.set(n.localName,[n]));let i;for(;i=s.nextNode();){let a=l.get(i.localName);if(a)for(let r=0;r<a.length;r++){let u=a[r];if(de(i,u,!0)){i.replaceWith(u),S(i,p),Fe(l,u);break}}}if(V){let a=M(e)?Array.from(c.childNodes):[e];if(M(t)){let r=J.get(t);a.forEach(u=>r[0].before(u)),r.forEach(u=>u.remove())}else t.replaceWith(...a);c.remove(),S(t,p)}else G(e,t),S(t,p);l.clear()}function G(e,t){if(M(t)){let s=J.get(t);if(M(e)){let o=Array.from(e.childNodes);s.forEach((c,n)=>{n<o.length?te(o[n],c):c.remove()})}else s.forEach((o,c)=>{c===0?te(e,o):o.remove()})}else t.replaceWith(e)}function pe(e){return Array.isArray(e)?()=>e.forEach(q):()=>q(e)}function q(e){e.isConnected&&(e.remove(),S(e,p))}function H(e,...t){navigator.scheduling?navigator.scheduling.isInputPending()?setTimeout(H,0,e,...t):e(...t):window.requestIdleCallback(()=>e(...t))}function X(e){let t;do t=We();while(Reflect.has(I,t));Reflect.set(I,t,e),Reflect.set(o,"reactive",!0);let s=ge(o,[t]);return s;function o(c){let n=(this&&Reflect.get(this,"reactive")?this:s).__keys__,[l,i]=$(n),a=n[n.length-1];if(R(c)){let r=c(l);if(l===r)return;Reflect.set(i,a,r??l)}else Reflect.set(i,a,c)}}function ge(e,t){return new Proxy(e,{get(s,o,c){return o==="reactive"?!0:o==="__keys__"?t:o===Symbol.toPrimitive?()=>`{{${t.join(".")}}}`:ge(s,[...t,o])}})}function he(e){let t=e.__keys__;return[t[t.length-1],t.length===1]}function se(e){let[t,s]=he(e);if(s)Reflect.set(I,t,null);else{let[o,c]=$(e.__keys__);Reflect.set(c,t,null)}}function me(e,t){let[s,o]=he(e);if(o)I.observe(s,t);else{let[c,n]=$(e.__keys__);n.observe(s,t)}}function Ee(e,t,s,o=e){let c=l=>(!Reflect.get(e,"reactive")&&R(e)?e(l):ue(l)?!1:l)?R(t)?t():t:R(s)?s():s,n=X(c(C(o)));return me(o,l=>{l===null?se(n):n(c(l))}),n}var be=!1,Re=new Set,L=new WeakMap,Ke=new WeakMap;function C(e){let[t]=$(Reflect.get(e,"__keys__"));return t}var Ne=!1;function qe(e,t,...s){Ne=!0,E.set(t,s.length?e.bind(e,...s):e)}var Se=!1;function _e(e,t,...s){Se=!0,p.set(t,s.length?e.bind(e,...s):e)}function ie(e={}){let t=Symbol("handlers"),s=new WeakMap,o=new Proxy(e,{set(c,n,l,i){be&&(Re.add(i),L.has(i)?L.get(i).add(n):L.set(i,new Set([n])));let a=!0,r=Reflect.get(c,n,i);if(r===l)return a;if(l===null){if(h.has(i)){let f=h.get(i);f.delete(String(n)),f.size===0&&h.delete(i)}let d=Reflect.get(c,t,i);if(d.has(n)){let f=d.get(n);f.forEach(g=>g(null,r)),f.clear(),i.unobserve(n)}return b(r)&&O(r)?(h.delete(r),m.has(r)&&(m.get(r).forEach(q),m.delete(r))):m.has(i)&&(m.get(i).forEach(q),m.delete(i)),!K&&Array.isArray(i)?(i.splice(n,1),a):Reflect.deleteProperty(i,n)}else if(Array.isArray(r)&&Array.isArray(l)&&l.length===0){Reflect.get(c,t,i).get(n)?.forEach(f=>f(l,r)),K=!0;let d=r.length;for(let f=0;f<d;f++){let g=i[n][f];b(g)&&O(g)&&(i[n][f]=null)}K=!1}if(ue(l))return l.then(f=>{i[n]=f}).catch(f=>{console.error(f),i[n]=null}),a=Reflect.set(c,n,l,i),a;if(W(l))a=Reflect.set(c,n,l,i);else if(b(l)&&!O(l))a=Reflect.set(c,n,ie(l),i),Object.entries(l).forEach(([d,f])=>{b(f)&&!O(f)&&Reflect.set(l,d,ie(f))});else if(!x&&Array.isArray(i)&&i.includes(r)&&i.includes(l)&&m.has(l)){let[d]=m.get(l);if(fe!==d){let[f]=m.get(r);fe=f;let g=d.previousSibling,Y=f.previousSibling,Te=i.findIndex(Le=>Le===l);i.splice(Number(n),1,l),i.splice(Te,1,r),g.after(f),Y.after(d)}return!0}else a=Reflect.set(c,n,l,i);let u=Reflect.get(c,n,i);return h.has(r)?ye(r,n,u,r):h.has(i)&&ye(i,n,u,r),b(l)&&O(l)&&h.has(r)&&(x&&k.set(r,h.get(r)),k.has(l)?(h.set(r,k.get(l)),k.delete(l)):h.set(r,h.get(l))),a&&Reflect.get(c,t,i).get(n)?.forEach(d=>d(u,r)),!x&&He(r),a},get(c,n,l){be&&(Re.add(l),L.has(l)?L.get(l).add(n):L.set(l,new Set([n])));let i=Reflect.get(c,n,l);return R(i)?(s.has(i)||s.set(i,i.bind(c)),s.get(i)):i}});return Reflect.defineProperty(o,"isProxy",{value:!0}),Reflect.defineProperty(o,"asyncUpdate",{value:Z,writable:!0}),Reflect.defineProperty(o,t,{value:new Map}),Reflect.defineProperty(o,"observe",{value:(c,n)=>{let l=Reflect.get(o,t);l.has(c)?l.get(c).add(n):l.set(c,new Set([n]))},configurable:!0}),Reflect.defineProperty(o,"getObservers",{value:()=>Reflect.get(o,t),configurable:!0}),Reflect.defineProperty(o,"unobserve",{value:(c,n)=>{let l=Reflect.get(o,t);if(c){if(l.has(c))if(n==null)l.delete(c);else{let i=l.get(c);i?.has(n)&&i.delete(n)}}else l.clear()},configurable:!0}),Reflect.has(o,re)||queueMicrotask(()=>{o===I&&Reflect.defineProperty(o,re,{value:s})}),o}function He(e){b(e)&&O(e)&&(h.delete(e),m.has(e)&&(m.get(e).forEach(q),m.delete(e)))}function ye(e,t,s,o){let c=h.get(e),n=c.get(String(t));n&&(Reflect.get(e,"asyncUpdate")?H(Q,n,s,o):Q(n,s,o)),b(s)&&Object.entries(s).forEach(([l,i])=>{let a=b(o)&&Reflect.get(o,l)||o,r=c.get(l);r&&(Reflect.get(e,"asyncUpdate")?H(Q,r,i,a):Q(r,i,a))})}function Q(e,t,s){e.forEach(o=>{if(W(o)){if(!o.isConnected){let c=e.get(o);e.delete(o),e.delete(c)}return}o.forEach(c=>{let n=e.get(o),[l,i,a]=c,r=!1;if(W(t))G(t,n),S(n,p);else if(y(n)){r=!0;let u=n.nodeValue;n.nodeValue=u.substring(0,l)+String(t)+u.substring(i)}else if(a==="two-way")n instanceof HTMLTextAreaElement||n instanceof HTMLSelectElement||n instanceof HTMLInputElement&&n.type==="text"?n.value=String(t):n instanceof HTMLInputElement&&(n.type==="checkbox"||n.type==="radio")&&(n.checked=Array.isArray(t)?t.includes(n.name):String(t)===n.value);else if(R(t)||F(t)){let u=a.replace(w,"");n.removeEventListener(u,R(t)?t:t.event),z(n,u,t)}else if(b(t))Object.entries(t).forEach(([u,d])=>{if(R(d)||F(d)){let f=u.replace(w,"");n.removeEventListener(f,R(d)?d:d.event),z(n,f,d)}else T(n,u,d)});else{r=!0;let u=n.getAttribute(a);u?(u=u.substring(0,l)+String(t)+u.substring(i),T(n,a,u===String(t)?t:u)):T(n,a,t)}if(r){c[1]=l+String(t).length;let u;j.get(n)?.forEach(d=>{if(d===c){u=!0;return}if(u&&(y(n)||a===d[2])){let f=String(s).length-String(t).length;d[0]-=f,d[1]-=f}})}})})}function Ae(e,t,s){P=!0;let o=ce(e),c=C(t).map(s);o.append(...c),c.forEach(n=>S(n,E)),P=!1,me(t,(n,l)=>{if(P=!0,!n?.length||!x&&n?.length===l?.length)o.textContent="";else if(x)for(let i=0;i<l?.length&&n?.length;i++)l[i].id=n[i].id,l[i].label=n[i].label,n[i]=l[i];if(l?.length&&n?.length>l?.length){let i=l.length,r=n.slice(i).map((u,d)=>s(u,d+i));o.append(...r),r.forEach(u=>S(u,E))}else if(l?.length===0||!x&&n?.length){let i=n.map(s);o.append(...i),i.forEach(a=>S(a,E))}P=!1})}var I=ie(),ce=document.querySelector.bind(document),ve=document.querySelectorAll.bind(document);var xe=["pretty","large","big","small","tall","short","long","handsome","plain","quaint","clean","elegant","easy","angry","crazy","helpful","mushy","odd","unsightly","adorable","important","inexpensive","cheap","expensive","fancy"],Me=["red","yellow","blue","green","pink","brown","purple","brown","white","black","orange"],Oe=["table","chair","house","bbq","desk","car","pony","cookie","sandwich","burger","pizza","mouse","keyboard"],Ue=xe.length,je=Me.length,ke=Oe.length,Je=1;function oe(e){let t=new Array(e);for(let s=0;s<e;s++)t[s]={id:Je++,label:xe[le(Ue)]+" "+Me[le(je)]+" "+Oe[le(ke)]};return t}function le(e){return Math.random()*e|0}ae(!1);v(ce("#main"),{run:Be,runLots:Ge,add:ze,update:Qe,clear:Xe,swapRows:Ye});var N=X([]),U=X(-1);Ae("tbody",N,(e,t)=>{let s=Ee(c=>c===e.id,"danger","",U),o=A("tr",{class:s,bind:N[t]},A("td",{class:"col-md-1"},N[t].id),A("td",{class:"col-md-4"},A("a",{onclick:()=>U(e.id)},N[t].label)),A("td",{class:"col-md-1"},A("a",{onclick:()=>Ze(e.id)},A("span",{class:"glyphicon glyphicon-remove","aria-hidden":"true"}))),A("td",{class:"col-md-6"}));return _e(se,o,s),o});function ze(){N(e=>[...e,...oe(1e3)])}function Be(){U(null),N(oe(1e3))}function Ge(){U(null),N(oe(1e4))}function Xe(){N([]),U(null)}function Qe(){let e=C(N),t=0;for(;t<e.length;)N[t].setter(s=>{s.label+=" !!!"}),t+=10}function Ye(){N(e=>{e.length>998&&([e[1],e[998]]=[e[998],e[1]])})}function Ze(e){let t=C(N).findIndex(s=>s?.id===e);N(s=>{s[t]=null})}
